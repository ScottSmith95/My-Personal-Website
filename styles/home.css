@import 'variables.css';
@import 'partials/_acier-font-face.css';

.container {
	margin: 0 auto;
	padding-bottom: constant(safe-area-inset-bottom);
	padding-bottom: env(safe-area-inset-bottom);
}

.header-image {
	animation: header-image 1s ease-out 300ms backwards;
	width: 100%;
	width: calc(100% - var(--space-l2));
	height: auto;
	box-shadow: 0 0 55px 0 rgba(83, 108, 104, 0.6);
	margin-bottom: -2.75rem;
}

header {
	padding-bottom: var(--space-l3);
}

.name,
.tagline {
	padding-right: var(--space-l2);
	margin: 0;
}

.name {
	z-index: 1; /* Fixes some overlapping issues during animations. (WebKit) */
	font: normal 7em/0.7 'acier-bat', var(--font-fam);
	text-align: right;
	padding-left: 0;
	
	.first,
	.last {
		animation: name-first 1s ease-out 300ms backwards;
		display: block;
	}
	
	.first {
		animation-name: name-first;
		filter: drop-shadow(0 2px 12px rgba(0, 153, 204, 0.5));
		color: var(--blue);
	}
	
	.last {
		animation-name: name-last;
		filter: drop-shadow(0 2px 12px rgba(83, 195, 202, 0.5));
		color: var(--turquoise);
	}
}

.tagline {
	font: 500 2em/1.5 var(--font-fam);
	text-align: right;
	list-style: none;

	li {
		animation: tagline 1s ease-out backwards;
		position: relative;
		z-index: 0;
		
		&:nth-child(1) {
			animation-delay: 600ms;
		}
		
		&:nth-child(2) {
			animation-delay: 900ms;
		}
		
		&:nth-child(3) {
			animation-delay: 1200ms;
		}
	}
}

section,
footer {
	line-height: 1.5;
}

section {
	font-size: 1.25em;
	padding: var(--space-l3) var(--space-l2);
	border-top: 3px solid var(--divider-color);
	
	p {
		margin: 0;
	}
	
	abbr {
		cursor: help;
		text-decoration: underline;
	}
}

footer {
	color: var(--light-text-color);
	padding: 0 var(--space-l2) var(--space-l1);
	margin-top: -1.5rem;
}

section p a,
footer a {
	color: inherit;
	text-decoration: underline;
	
	@media (any-hover) {
	&:hover {
		color: var(--blue);
	}
	
	&:active {
		color: var(--darkblue);
	}
	}
}

/* Navigation button style. */
nav a {
	transition: color 0.3s ease, border-color 0.3s ease;
	display: inline-block;
	font-weight: 500;
	color: var(--blue);
	background: none;
	padding: 0 var(--space-l2);
	border: 0.07em solid var(--blue);
	border-radius: 5px;
	white-space: nowrap;
	
	&::after {
		transition: border-color 0.3s ease, margin-left 0.3s ease, transform 0.3s ease, top 0.3s ease;
		content: '';
		display: inline-block;
		transform: rotate(45deg); /* Point arrow right. */
		transform-origin: center;
		position: relative;
		height: 0.45em;
		width: 0.45em;
		vertical-align: top;
		border-style: solid;
		border-width: 0.1em 0.1em 0 0;
		border-color: transparent;
		border-radius: 1px;
	}
	
	@media (any-hover) {
	&:hover {
		color: var(--blue);
		
		&::after {
			border-color: var(--blue);
			margin-left: 0.1em;
		}
	}
	
	&:active,
	&:focus {
		color: var(--darkblue);
		border-color: var(--darkblue);
		outline: none;
		
		&::after {
			border-color: var(--darkblue);
			margin-left: 0.1em;
		}
	}
	}
}

/* Styles only pertaining to these buttons. */
nav {
	display: inline-block;
	font-size: 1.75rem;
	margin: 0 auto var(--space-l2);
	
	a {
		margin-right: var(--space-l1);
		margin-bottom: var(--space-l1);
	
		&::after {
			top: 0.55em;
			left: 0;
			margin-left: -0.35em;
		}
	}
}

button.colophon-extender {
	transition: color 0.3s ease;
	font-size: 1.15rem;
	color: var(--blue);
	background: none;
	cursor: pointer;
	padding: 0;
	border: none;
	margin: var(--space-l1) 0 0;
	
	&::after {
		transition: border-color 0.3s ease, margin-left 0.3s ease, transform 0.3s ease, top 0.3s ease;
		content: '';
		display: inline-block;
		transform: rotate(135deg); /* Chevron pointing down. */
		transform-origin: center;
		position: relative;
		height: 0.45em;
		width: 0.45em;
		top: 0.35em;
		left: 0.25em;
		vertical-align: top;
		border-style: solid;
		border-width: 0.125em 0.125em 0 0;
		border-color: var(--blue);
		border-radius: 1px;
	}
	
	&::before {
		content: '';
		border-top: 3px solid var(--divider-color);
	}
	
	&.shown::after {
		transform: rotate(-45deg); /* Chevron pointing up. */
		top: 0.55em;
	}
	
	@media (any-hover) {
	&:hover,
	&:focus {
		color: var(--darkblue);
		outline: none;
		
		&::after {
			border-color: var(--darkblue);
		}
	}
	}
	
	&:active {
		color: var(--text-color);
		
		&::after {
			border-color: var(--text-color);
		}
	}
	
	.no-js & {
		display: none;
	}
}

.colophon-extended {
	transition: max-height 0.3s ease-out, margin-top 0.3s ease-out;
	overflow: hidden;
	font-size: 1.15rem;
	color: var(--light-text-color);
	max-height: 0;
	margin-top: 0;
	
	&.shown {
		transition-timing-function: ease-in;
		max-height: 13.5em;
		margin-top: var(--space-l1);
		
		@media (min-width: 50em) {
			max-height: 8.5em;
		}
	}
	
	.no-js & {
		overflow: auto;
		max-height: none;
		margin-top: var(--space-l2);
	}
}

.social {
	p {
		color: var(--light-text-color);
	}
	
	.icons {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: flex-start;
		list-style: none;
		margin-top: var(--space-l2);
	}
	
	.link {
		display: inline;
		margin-right: 5%;
		
		&:last-child {
			margin-right: 0;
		}
	}
	
	.icon {
		width: 100%;
		max-width: 4.25rem;
		backface-visibility: visible;
		
		@media (any-hover) {
		&:hover {
			animation: social-icon 0.5s ease;
		}
		}
	}	
}

@media (min-width: 22em) {
	.header-image {
		width: calc(100% - var(--space-l3));
	}
	
	.tagline {
		padding-right: var(--space-l3);
	}
	
	.name {
		padding-right: calc(var(--space-l2) - 0.25rem);
		font-size: 8.5em;
	}
	
	nav {
		font-size: 2rem;
		
		a {
			margin-right: var(--space-l2);
		}
	}
	
	.icons {
		max-width: 25rem;
	}
}

@media (min-width: 35em) {
	header,
	section,
	footer {
		margin-right: var(--space-l3);
		margin-left: var(--space-l3);
	}
	
	header {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: baseline;
	}
	
	.name,
	.tagline {
		padding: 0;
	}
	
	.name {
		margin-left: 0;
	}
	
	section,
	footer {
		padding-right: 0;
		padding-left: 0;
		font-size: 1.5em;
	}
	
	.social p,
	footer {
		font-size: 1.15rem;
	}
	
	.social .icon {
		max-width: 3.5rem;
	}
}

@media (min-width: 50em) {
	.container {
		max-width: 35em;
	}
	
	.header-image {
		display: block;
		max-width: 100%;
		width: auto;
		margin: 0 auto -2.1rem;
	}
	
	header,
	section,
	footer {
		max-width: 100%;
		crap: lol;
		margin-right: auto;
		margin-left: auto;
	}
}

@media (max-height: 27.5em) {
	.header-image {
		width: auto;
		max-height: 60vh;
		margin-left: 0;
	}
}

/* ----------------- */
/*     Animations    */
/* ----------------- */
@media (prefers-reduced-motion: reduce) {
	.header-image,
	.name .first,
	.name .last,
	.tagline li {
		animation: none;
	}
}

@keyframes header-image {
	from {
		opacity: 0;
		transform: translateX(7.5%) translateY(-25%);
	}
	60% {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		transform: translateX(0) translateY(0);
	}
}

@keyframes name-first {
	from {
		opacity: 0;
		transform: translateX(5%) translateY(15%);
	}
	60% {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 1;
		transform: translateX(0) translateY(0);
	}
}

@keyframes name-last {
	from {
		opacity: 0;
		transform: translateX(10%) translateY(30%);
	}
	60% {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 1;
		transform: translateX(0) translateY(0);
	}
}

@keyframes tagline {
	from {
		opacity: 0;
		transform: translateX(-5%) translateY(-15%);
	}
	60% {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 1;
		transform: translateX(0) translateY(0);
	}
}

@keyframes tagline-accents-left {
	from {
		opacity: 0;
		transform: translateY(15%) translateX(35%);
	}
	60% {
		opacity: 1;
		transform: translateY(0);
	}
	to {
		transform: translateX(0);
	}
}

@keyframes tagline-accents-right {
	from {
		opacity: 0;
		transform: translateY(15%) translateX(-35%);
	}
	60% {
		opacity: 1;
		transform: translateY(0);
	}
	to {
		transform: translateX(0);
	}
}

@keyframes social-icon {
	from {
		transform: scale(1, 1);
	}
	30% {
		transform: scale(1.25, 0.75);
	}
	40% {
		transform: scale(0.75, 1.25);
	}
	50% {
		transform: scale(1.15, 0.85);
	}
	65% {
		transform: scale(0.95, 1.05);
	}
	75% {
		transform: scale(1.05, 0.95);
	}
	to {
		transform: scale(1, 1);
	}
}